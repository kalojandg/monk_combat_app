<!doctype html>
<html lang="bg">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Monk Sheet Lite v2</title>
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#111111">
  <style>
    :root { --bg:#0f0f12; --card:#17171c; --accent:#7bd88f; --muted:#9aa0a6; --danger:#ff6b6b; --ok:#6bff95; --warn:#ffd56b; }
    * { box-sizing: border-box; }
    body { margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; background: var(--bg); color: #f3f3f3; }
    header { padding:10px 12px; display:flex; gap:8px; align-items:center; justify-content:space-between; background:#121217; position:sticky; top:0; z-index:5; }
    header h1 { margin:0; font-size:16px; letter-spacing:.3px; }
    main { padding:12px; display:grid; gap:12px; max-width:1100px; margin:0 auto; }
    .tabs { display:flex; gap:8px; flex-wrap:wrap; }
    .tab-btn { padding:8px 10px; border-radius:10px; border:1px solid #2b2b33; background:#14141a; color:#fff; cursor:pointer; }
    .tab-btn.active { outline:2px solid #2a3b2a; }
    .card { background: var(--card); border:1px solid #24242b; border-radius:12px; padding:12px; }
    .row { display:flex; gap:10px; flex-wrap:wrap; align-items:center; }
    .col { flex:1 1 220px; }
    label { font-size:12px; color: var(--muted); display:block; margin-bottom:6px; }
    input[type="number"], input[type="text"] { width:100%; padding:10px 12px; border-radius:10px; border:1px solid #2b2b33; background:#101016; color:#fff; }
    .pill { display:inline-flex; align-items:center; gap:6px; padding:8px 12px; border-radius:999px; border:1px solid #2b2b33; background:#101016; min-width:140px; justify-content:center; }
    .pill input[type="number"] { width:70px; padding:6px 8px; border-radius:8px; }
    .stat { font-size:20px; font-weight:700; }
    .btn { padding:10px 12px; border-radius:10px; border:1px solid #2b2b33; background:#14141a; color:#fff; cursor:pointer; }
    .btn:active { transform: scale(0.98); }
    .btn.primary { border-color:#2a3b2a; background:#162016; }
    .btn.danger { border-color:#3b2a2a; background:#201616; color:#ff9a9a; }
    .btn.ok { border-color:#2a3b30; background:#152019; }
    .btn.warn { border-color:#3b372a; background:#201c16; }
    .grid { display:grid; gap:10px; }
    .grid.auto { grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); }
    .grid.skills { grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); }
    .section-title { font-size:13px; letter-spacing:.3px; color:var(--muted); margin:4px 0 8px; text-transform:uppercase; }
    .status { font-size:28px; }
    .small { font-size:12px; color:var(--muted); }
    .hidden { display:none; }
    table { width:100%; border-collapse: collapse; }
    th, td { border-bottom:1px solid #2b2b33; padding:6px 8px; text-align:left; }
    th { color: var(--muted); font-weight:600; }
    .right { text-align:right; }
  </style>
</head>
<body>
  <header>
    <h1>ü•ã Monk Sheet Lite v2</h1>
    <div class="row" style="gap:6px">
      <button id="btnShortRest" class="btn">Short Rest</button>
      <button id="btnLongRest" class="btn">Long Rest</button>
      <button id="btnReset" class="btn danger">Reset</button>
      <button id="btnExport" class="btn">Export</button>
      <label class="btn" for="importFile">Import</label>
      <input id="importFile" type="file" accept="application/json" class="hidden"/>
      <!-- –Ω–æ–≤–∏—è—Ç –±—É—Ç–æ–Ω, –±–µ–∑ –ø—Ä–æ–º—è–Ω–∞ –≤—ä–≤ –≤–∏–∑–∏—è—Ç–∞ -->
      <button id="btnConnectBackup" class="btn" title="–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ–Ω –±–µ–∫—ä–ø –∫—ä–º —Ñ–∞–π–ª –≤ –æ–±–ª–∞–∫ (Chrome/Android)">PWA Storage</button>
      <button id="btnInstall" class="btn primary hidden">Install</button>
    </div>
  </header>

  <main>
    <div class="tabs">
      <button class="tab-btn active" data-tab="combat">Combat</button>
      <button class="tab-btn" data-tab="stats">Stats</button>
    </div>

    <section id="tab-combat" class="card">
      <div class="section-title">Combat Panel</div>
      <div class="row">
        <div class="pill">
          <span>HP</span>&nbsp;
          <span class="stat" id="hpCurrentSpan">0</span> / <span id="hpMaxSpan">0</span>
        </div>
        <div class="pill">
          <span>Ki</span>&nbsp;
          <span class="stat" id="kiCurrentSpan">0</span> / <span id="kiMaxSpan">0</span>
        </div>
        <div class="pill"><span>AC</span>&nbsp;<span class="stat" id="acSpan">10</span></div>
        <div class="pill"><span>Prof</span>&nbsp;<span class="stat" id="profSpan">2</span></div>
        <div class="pill status" id="lifeStatus">üôÇ</div>
      </div>

      <div class="section-title">–ë—ä—Ä–∑–æ HP</div>
      <div class="row">
        <div class="col">
          <label>–°—Ç–æ–π–Ω–æ—Å—Ç</label>
          <input id="hpDelta" type="number" step="1" value="1">
        </div>
        <div class="row" style="gap:8px">
          <button id="btnDamage" class="btn danger">Take Damage</button>
          <button id="btnHeal" class="btn ok">Heal HP</button>
          <button id="btnHitAtZero" class="btn warn">Hit @ 0 HP</button>
        </div>
      </div>

      <div class="section-title">–ë—ä—Ä–∑–æ Ki</div>
      <div class="row">
        <div class="col">
          <label>–°—Ç–æ–π–Ω–æ—Å—Ç</label>
          <input id="kiDelta" type="number" step="1" value="1">
        </div>
        <div class="row" style="gap:8px">
          <button id="btnSpendKi" class="btn danger">Spend Ki</button>
          <button id="btnGainKi" class="btn ok">Gain Ki</button>
        </div>
      </div>

      <div class="section-title">Death Saves</div>
      <div class="row" style="gap:8px">
        <div class="pill">‚úîÔ∏è <span id="dsSuccess">0</span> / 3</div>
        <div class="pill">‚ùå <span id="dsFail">0</span> / 3</div>
        <button id="btnDsPlus" class="btn ok">+ Success</button>
        <button id="btnDsMinus" class="btn warn">- Failure</button>
        <button id="btnCrit" class="btn primary">Crit (20)</button>
        <button id="btnCritFail" class="btn danger">Crit Fail (1)</button>
        <button id="btnStabilize" class="btn">Stabilize</button>
        <button id="btnHealFromZero" class="btn ok">Heal</button>
      </div>
    </section>

    <section id="tab-stats" class="card hidden">
      <div class="section-title">–û—Å–Ω–æ–≤–Ω–∏</div>
      <div class="grid auto">
        <div class="col"><label>–ò–º–µ</label><input id="charName" type="text" placeholder="Peace Oshiet"></div>
        <div class="col"><label>XP</label><input id="xpInput" type="number" min="0" step="1"></div>
        <div class="col"><label>Level</label><div class="pill"><span class="stat" id="levelSpan">1</span></div></div>
        <div class="col"><label>Proficiency</label><div class="pill"><span class="stat" id="profSpan2">+2</span></div></div>
        <div class="col"><label>Martial Arts Die</label><div class="pill"><span class="stat" id="maDieSpan">d4</span></div></div>
        <div class="col"><label>Ki Max</label><div class="pill"><span class="stat" id="kiMaxSpan2">0</span></div></div>
        <div class="col"><label>Hit Dice Max</label><div class="pill"><span class="stat" id="hdMaxSpan">1</span></div></div>
        <div class="col"><label>Hit Dice Available</label><input id="hdAvailInput" type="number" min="0" step="1"></div>
      </div>

      <div class="section-title">HP –º–æ–¥–µ–ª</div>
      <div class="grid auto">
        <div class="col"><label>CON</label><input id="conInput" type="number" step="1" value="10"></div>
        <div class="col"><label>CON –º–æ–¥</label><div class="pill"><span class="stat" id="conModSpan">0</span></div></div>
        <div class="col"><label>Tough (feat)</label><input id="toughChk" type="checkbox"></div>
        <div class="col"><label>HP Adjust (items/house)</label><input id="hpAdjInput" type="number" step="1" value="0"></div>
        <div class="col"><label>Max HP (derived)</label><div class="pill"><span class="stat" id="maxHpSpan">10</span></div></div>
      </div>

      <div class="section-title">Ability Scores</div>
      <div class="grid auto">
        <div class="col"><label>STR</label><input id="strInput" type="number" step="1" value="10"></div>
        <div class="col"><label>STR –º–æ–¥</label><div class="pill"><span class="stat" id="strModSpan">0</span></div></div>
        <div class="col"><label>DEX</label><input id="dexInput" type="number" step="1" value="10"></div>
        <div class="col"><label>DEX –º–æ–¥</label><div class="pill"><span class="stat" id="dexModSpan">0</span></div></div>
        <div class="col"><label>INT</label><input id="intInput" type="number" step="1" value="10"></div>
        <div class="col"><label>INT –º–æ–¥</label><div class="pill"><span class="stat" id="intModSpan">0</span></div></div>
        <div class="col"><label>WIS</label><input id="wisInput" type="number" step="1" value="10"></div>
        <div class="col"><label>WIS –º–æ–¥</label><div class="pill"><span class="stat" id="wisModSpan">0</span></div></div>
        <div class="col"><label>CHA</label><input id="chaInput" type="number" step="1" value="10"></div>
        <div class="col"><label>CHA –º–æ–¥</label><div class="pill"><span class="stat" id="chaModSpan">0</span></div></div>
      </div>

      <div class="section-title">Saves & AC & Speed</div>
      <div class="grid auto">
        <div class="col"><label>STR Save Prof</label><input id="saveStrProf" type="checkbox"></div>
        <div class="col"><label>DEX Save Prof</label><input id="saveDexProf" type="checkbox"></div>
        <div class="col"><label>CON Save Prof</label><input id="saveConProf" type="checkbox"></div>
        <div class="col"><label>INT Save Prof</label><input id="saveIntProf" type="checkbox"></div>
        <div class="col"><label>WIS Save Prof</label><input id="saveWisProf" type="checkbox"></div>
        <div class="col"><label>CHA Save Prof</label><input id="saveChaProf" type="checkbox"></div>
        <div class="col"><label>All Saves Bonus</label><input id="saveAllBonusInput" type="number" step="1" value="0"></div>
        <div class="col"><label>AC (Monk UD)</label><div class="pill"><span class="stat" id="acSpan2">10</span></div></div>
        <div class="col"><label>Magic AC Bonus</label><input id="acMagicInput" type="number" step="1" value="0"></div>
        <div class="col"><label>Base Speed (race)</label><input id="baseSpeedInput" type="number" step="5" value="30"></div>
        <div class="col"><label>Unarmored Move Bonus</label><div class="pill"><span class="stat" id="umBonusSpan">0</span> ft</div></div>
        <div class="col"><label>Total Speed</label><div class="pill"><span class="stat" id="totalSpeedSpan">30</span> ft</div></div>
        <div class="col"><label>9th-level Note</label><div class="small" id="lvl9Note">‚Äî</div></div>
      </div>

      <div class="section-title">Saving Throws (totals)</div>
      <table>
        <thead><tr><th>Save</th><th>Base</th><th>+All</th><th class="right">Total</th></tr></thead>
        <tbody id="savesBody"></tbody>
      </table>

      <div class="section-title">Skills</div>
      <table>
        <thead><tr><th>Skill</th><th>Ability</th><th>Prof</th><th class="right">Bonus</th></tr></thead>
        <tbody id="skillsBody"></tbody>
      </table>

      <div class="section-title">Passive</div>
      <div class="grid auto">
        <div class="col"><label>Passive Perception</label><div class="pill"><span class="stat" id="passPercSpan">10</span></div></div>
        <div class="col"><label>Passive Investigation</label><div class="pill"><span class="stat" id="passInvSpan">10</span></div></div>
      </div>
    </section>

    <div class="small" style="text-align:center">v2 ‚Ä¢ PWA ‚Ä¢ Monk only</div>
  </main>

  <script src="app.js"></script>
</body>
</html>
